# Pharmacy Telegram Bot

Телеграм-бот аптеки на базе библиотеки `pyTelegramBotAPI`.

## Требования
- Python 3.10+
- Telegram Bot API токен

## Установка

1. Создайте виртуальное окружение и установите зависимости:
   ```bash
   python -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```
2. Скопируйте файл `.env.example` в `.env` и подставьте свои значения вместо плейсхолдеров:
   - `BOT_TOKEN` – токен вашего бота (должен содержать двоеточие)
   - `ADMIN_IDS` – список ID администраторов через запятую
   - `DB_PATH` – путь к базе (опционально)
   
   Файл `.env` предназначен только для локальной разработки и **не должен попадать в репозиторий**.

3. Запустите бота:
   ```bash
   python bot.py
   ```
   Если при запуске возникает ошибка вида `TypeError: 'NoneType' object is not iterable`,
   убедитесь, что в файле `.env` указана переменная `BOT_TOKEN`.

## Deploy на Render
На сервисе [Render](https://render.com) создайте новый **Web Service** из репозитория.
Файл `render.yaml` содержит настройки сборки и запуска. В нём переменные среды берутся из настроек сервиса, поэтому реальные значения не хранятся в репозитории.
В конфигурации используются переменные `BOT_TOKEN`, `ADMIN_IDS` и `DB_PATH`, которые совпадают с именами из `.env.example`.

## Экспорт заказов
Администратор может экспортировать все заказы командой `/export`. Бот отправит CSV-файл.

